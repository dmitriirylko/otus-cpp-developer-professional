# ДЗ №8. Boost

Репозиторий содержит утилиту для поиска дублирующихся по содержимому файлов.
Результат работы утилиты - список полных путей файлов с идентичным содержимым,
выводимый на стандартный вывод. Разные группы разделяются пустой строкой.

## Установка и запуск
Установите библиотеку Boost:

```
sudo apt-get install libboost-all-dev
```

Скачайте .deb пакет, соответствующий релизу 0.8.x. Введите следующие команды:

```
sudo dpkg -i  bulk-0.8.x-Linux.deb 
```

```
bayan [...]
```

Флаги, которые можно указать при запуске пакета `bayan`:

*   `--include`: директории для сканирования, может быть несколько (обязательный параметр).
*   `--exclude`: директории для исключения из сканирования, может быть несколько.
*   `--filesize`(по умолчанию `1`): минимальный размер файла для проверки.
*   `--blocksize`(по умолчанию `32`): размер блока, которым производится чтения файлов.
В оперативной памяти хранятся контрольные суммы этих блоков.
*   `--masks`: маски имен файлов разрешенных для сравнения в формате регулярного выражения, может быть несколько.
*   `--level`(по умолчанию `1`): уровень сканирования (0 - только указанная директория без вложенных, 1 - все вложенные директории).
*   `--hash`(по умолчанию `crc32`): алгоритм хэширования (на данный момент поддерживается только CRC32).

# ДЗ №9. Многопоточная асинхронная обработка команд

Библиотека `async` служит для асинхронной обработки поступающих команд. Отправка команд может осуществляться из различных потоков.
Обработка поступающих данных и формирование пакетов команд происходит в вызывающих потоках. Далее сформированные пакеты отправляются
в соответствующие очереди сообщений и логируются. Вывод лога в консоль осуществляется в отдельном потоке. Запись лога в файлы осуществляется двумя потоками. Название файлов лога имеет следующую структуру bulk<время поступления команды>-<id потока, обработавшего пакет>-<порядковый номер пакета>. Нумерация пакетов своя для каждого файлового потока.

## Установка и запуск
Скачайте и установите .deb пакет, соответствующий релизу 0.9.x.:

```
sudo dpkg -i  async-0.9.x-Linux.deb 
```
Библиотека `libasync.so` и тестовый исполняемый файл `async_cli` будут установлены по стандартным путям.
Для проверки работоспособности библиотеки запустите тестовый исполняемый файл:

```
async_cli 
```

# ДЗ №10. Асинхронная сетевая обработка команд
Реализован асинхронный TCP сервер, с помощью библиотеки Boost.Asio. Каждый новый подключенный клиент формирует сессию - контекст выполнения команд.
Команды, полученные из разных контекстов, смешиваются, т.е. накапливаются в общие пакеты и далее логируются аналогично ДЗ №7, 9.
Команды динамических блоков (вложенные) не смешиваются, т.е. накапливаются в пакеты конкретного контекста и далее логируются.


## Установка и запуск
Скачайте и установите .deb пакет, соответствующий релизу 0.10.x.:

```
sudo dpkg -i  bulk_server-0.10.x-Linux.deb 
```
Библиотека `libasync.so` и тестовый исполняемый файл `bulk_server` будут установлены по стандартным путям.
Для проверки работоспособности библиотеки запустите тестовый исполняемый файл:

```
bulk_server <port_number> <block_size> 
```

где `port_number` - номер порта, `block_size` - размер блока команд.<br />
Откройте терминал и создайте сессию клиента (или несколько). Отправьте команды с помощью стандартного ввода.

```
nc localhost <port_number> 
```
